(self.webpackChunkdevto_clone_client=self.webpackChunkdevto_clone_client||[]).push([[808],{9124:function(e,s,r){"use strict";r.d(s,{Z:function(){return x}});var n=r(5861),t=r(9439),c=r(7757),o=r.n(c),i=r(2791),l=r(8241),a=r(1742),u=r(6545),d=r(2703),h=r(184),x=function(e){var s=e.followId,r=e.setShowModal,c=e.followers,x=e.userToFollow,f=(0,i.useContext)(l.V).currentUser,v=(0,i.useContext)(a.J).socket.current,p=f&&f.userId,j=(0,u.Z)().sendReq,m=(0,i.useState)(!1),w=(0,t.Z)(m,2),_=w[0],g=w[1];(0,i.useEffect)((function(){g((0,d.nH)(c,p))}),[c,p]);var k=function(){var e=(0,n.Z)(o().mark((function e(s){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_?"unfollow":"follow",g((function(e){return!e})),"follow"===r&&v.emit("follow",{sender:f,receiver:x}),n={userId:p,followId:s},e.prev=4,e.next=7,j("".concat("https://devfrom.herokuapp.com/api","/users/").concat(r),"PUT",JSON.stringify(n),{Authorization:"Bearer ".concat(f.token),"Content-Type":"application/json"});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(s){return e.apply(this,arguments)}}();return(0,h.jsx)("button",{className:"btn--profile-cta ".concat(_?"btn-following":""),onClick:function(){p?k(s):r(!0)},children:_?"Following":"Follow"})}},7808:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return Z}});var n=r(5861),t=r(9439),c=r(7757),o=r.n(c),i=r(2791),l=r(1523),a=r(9271),u=r(6545),d=r(3382),h=r(441),x=r(4132),f=r(9124),v=r(6191),p=r(4030),j=r(3526),m=r(6135),w=r(9335),_=r(6672),g=r(184),k=function(e){var s=e.user;return(0,g.jsxs)("div",{className:"user__info",children:[s.bio&&(0,g.jsx)("div",{className:"info__bio",children:(0,g.jsx)("p",{children:s.bio})}),(0,g.jsxs)("div",{className:"info__other",children:[s.location&&(0,g.jsxs)("div",{className:"user__location",children:[(0,g.jsx)("i",{children:(0,g.jsx)(m.S,{size:"2.5rem"})}),(0,g.jsx)("p",{children:s.location})]}),s.links&&(0,g.jsxs)("div",{className:"user__links",children:[(0,g.jsx)("i",{children:(0,g.jsx)(w.t,{size:"2.5rem"})}),(0,g.jsx)("p",{children:s.links})]}),s.work&&(0,g.jsxs)("div",{className:"user__work",children:[(0,g.jsx)("i",{children:(0,g.jsx)(_.C,{size:"2.5rem"})}),(0,g.jsx)("p",{children:s.work})]}),s.doB&&(0,g.jsxs)("div",{className:"user__doB",children:[(0,g.jsx)("i",{children:(0,g.jsx)(j.R,{size:"2.5rem"})}),(0,g.jsx)("p",{children:s.doB})]})]})]})},N=function(e){var s=e.user;return(0,g.jsxs)("div",{className:"user__side",children:[(0,g.jsxs)("div",{className:"user__skills",children:[(0,g.jsx)("h4",{children:"Skills/languages"}),(0,g.jsx)("p",{children:s.skills})]}),(0,g.jsxs)("div",{className:"user__stats",children:[(0,g.jsx)("h4",{children:"Stats"}),(0,g.jsxs)("ul",{children:[(0,g.jsxs)("li",{children:[s.posts&&s.posts.length," posts published"]}),(0,g.jsxs)("li",{children:[s.comments&&s.comments.length," comments written"]}),(0,g.jsxs)("li",{children:[s.followedTags&&s.followedTags.length," tags followed"]})]})]})]})},z=r(8241),Z=function(){var e=(0,i.useState)({}),s=(0,t.Z)(e,2),r=s[0],c=s[1],j=(0,i.useState)(!1),m=(0,t.Z)(j,2),w=m[0],_=m[1],Z=(0,u.x)(),b=Z.isLoading,C=Z.sendReq,L=Z.error,S=Z.clearError,M=(0,a.useParams)().userId,B=(0,i.useContext)(z.V).currentUser,V=B&&B.userId,I=r.posts;return(0,i.useEffect)((function(){var e=function(){var e=(0,n.Z)(o().mark((function e(){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("".concat("https://devfrom.herokuapp.com/api","/users/").concat(M));case 3:s=e.sent,c(s.user),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[C,M]),(0,g.jsxs)(g.Fragment,{children:[b&&(0,g.jsx)(x.Z,{asOverlay:!0}),(0,g.jsx)(h.Z,{error:L,onClose:S}),(0,g.jsx)(v.Z,{onClose:function(){return _(!1)},show:w}),!b&&(0,g.jsxs)("div",{className:"container-layout container-user",children:[(0,g.jsxs)("div",{className:"user__main",children:[(0,g.jsx)(p.Z,{src:r.avatar}),(0,g.jsxs)("div",{className:"main__cta",children:[(0,g.jsx)("h2",{children:r.name}),M===V?(0,g.jsx)(l.rU,{className:"btn btn--profile-cta btn--profile-edit",to:"/users/".concat(M,"/edit"),children:"Edit Profile"}):(0,g.jsx)(f.Z,{followId:r.id,followers:r.followers,userToFollow:r,setShowModal:_})]}),(0,g.jsx)(k,{user:r})]}),(0,g.jsxs)("div",{className:"user__content",children:[(0,g.jsx)(N,{user:r}),(0,g.jsx)("div",{className:"wrapper__user--posts",children:I&&(0,g.jsx)(d.Z,{cover:!1,items:I,author:r})})]})]})]})}},3526:function(e,s,r){var n=r(3867).w_;e.exports.R=function(e){return n({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"}}]})(e)}},6135:function(e,s,r){var n=r(3867).w_;e.exports.S=function(e){return n({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 0C2.69 0 0 2.5 0 5.5 0 10.02 6 16 6 16s6-5.98 6-10.5C12 2.5 9.31 0 6 0zm0 14.55C4.14 12.52 1 8.44 1 5.5 1 3.02 3.25 1 6 1c1.34 0 2.61.48 3.56 1.36.92.86 1.44 1.97 1.44 3.14 0 2.94-3.14 7.02-5 9.05zM8 5.5c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"}}]})(e)}},9335:function(e,s,r){var n=r(3867).w_;e.exports.t=function(e){return n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M23,20 L23,6 L12,15 L1,6 L1,20 L23,20 Z M12,12 L22,4 L2,4 L12,12 Z"}}]})(e)}},6672:function(e,s,r){var n=r(3867).w_;e.exports.C=function(e){return n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"}}]})(e)}}}]);
//# sourceMappingURL=808.422649fd.chunk.js.map