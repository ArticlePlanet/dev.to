{"version":3,"file":"static/js/436.19faca2e.chunk.js","mappings":"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","sources":["hooks/useForm.js","pages/EditUserProfile/EditUserProfile.js","components/FormElements/TagsInput/TagsInput.js","components/FormElements/BodyInput/BodyInput.js","components/FormElements/ImageUpload/ImageUpload.js","components/FormElements/Input/Input.js","utils/inputValidationRules.js","utils/formConfig.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n\n//\"signupForm\" => \"formObj\" (name, email, password) => \"form\"\nconst useForm = (formObj) => {\n  const [form, setForm] = useState(formObj);\n\n  const renderFormInputs = () => {\n    //renders an [] of <Input> for all input fields\n    return Object.values(form).map((inputObj) => {\n      const { value, label, errorMessage, valid, renderInput } = inputObj;\n      return renderInput(\n        onInputChange,\n        value,\n        valid,\n        errorMessage,\n        label,\n        onCustomInputChange\n      );\n    });\n  };\n\n  const renderFormValues = () => {\n    let values = {};\n    Object.keys(form).forEach((inputObj) => {\n      values[inputObj] = form[inputObj].value;\n    });\n    return values;\n  };\n\n  const isInputFieldValid = useCallback(\n    (inputField) => {\n      for (const rule of inputField.validationRules) {\n        if (!rule.validate(inputField.value, form)) {\n          inputField.errorMessage = rule.message;\n          return false;\n        }\n      }\n      return true;\n    },\n    [form]\n  );\n\n  const onInputChange = useCallback(\n    (event) => {\n      const { name, value } = event.target;\n      let inputObj = { ...form[name], value };\n      const isValidInput = isInputFieldValid(inputObj);\n      if (isValidInput && !inputObj.valid) {\n        inputObj = { ...inputObj, valid: true };\n      } else if (!inputObj.touched && !isValidInput && inputObj.valid) {\n        inputObj = { ...inputObj, valid: false };\n      }\n      inputObj = { ...inputObj, touched: true };\n      setForm({ ...form, [name]: inputObj });\n    },\n    [form, isInputFieldValid]\n  );\n\n  const onCustomInputChange = useCallback(\n    (type, value, InputIsValid) => {\n      setForm({\n        ...form,\n        [type]: { ...form[type], value, valid: InputIsValid },\n      });\n    },\n    [form]\n  );\n\n  const isFormValid = useCallback(\n    (customForm) => {\n      let isValid = true;\n      const arr = Object.values(customForm || form);\n      for (let i = 0; i < arr.length; i++) {\n        if (!arr[i].valid) {\n          isValid = false;\n          break;\n        }\n      }\n      return isValid;\n    },\n    [form]\n  );\n\n  return {\n    renderFormInputs,\n    renderFormValues,\n    isFormValid,\n    setForm,\n  };\n};\n\nexport default useForm;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useHttpClient } from '../../hooks/useHttpClient';\nimport { AuthContext } from '../../context/auth';\nimport useForm from '../../hooks/useForm';\nimport ErrorModal from '../../components/Modal/ErrorModal';\nimport LoadingSpinner from '../../components/LoadingSpinner/LoadingSpinner';\nimport {\n  editProfileForm,\n  prefillEditProfileForm,\n} from '../../utils/formConfig';\nimport { appendData } from '../../utils';\n\nconst EditUserProfile = () => {\n  const [user, setUser] = useState({});\n  const { renderFormInputs, renderFormValues, setForm } =\n    useForm(editProfileForm);\n  const history = useHistory();\n  const { sendReq, isLoading, error, clearError } = useHttpClient();\n  const { userId } = useParams();\n  let auth = useContext(AuthContext);\n  const { currentUser } = auth;\n  let formValues = renderFormValues();\n  let formInputs = renderFormInputs();\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const responseData = await sendReq(\n          `${process.env.REACT_APP_BASE_URL}/users/${userId}`\n        );\n        // if (currentUser.userId !== responseData.user.id) {\n        //   history.push(\"/\");\n        // }\n        prefillEditProfileForm(responseData.user);\n        setUser(responseData.user);\n        setForm(editProfileForm);\n      } catch (err) {}\n    };\n    fetchUser();\n  }, [sendReq, userId, setForm, currentUser, history]);\n\n  const infoSubmitHandle = async (evt) => {\n    evt.preventDefault();\n    const formData = appendData(formValues);\n    try {\n      const responseData = await sendReq(\n        `${process.env.REACT_APP_BASE_URL}/users/${userId}`,\n        'PATCH',\n        formData,\n        {\n          Authorization: `Bearer ${currentUser.token}`,\n        }\n      );\n      const { name, bio, email, profilePic } = responseData.user;\n      const { setUser: setAppUser } = auth;\n      setAppUser({ ...currentUser, name, bio, email, profilePic });\n      history.push(`/users/${userId}`);\n    } catch (err) {}\n  };\n\n  return (\n    <>\n      {isLoading && <LoadingSpinner asOverlay={true} />}\n      <ErrorModal error={error} onClose={clearError} />\n      {!isLoading && (\n        <div className='container-edit-page'>\n          <form className='form form__edit' onSubmit={infoSubmitHandle}>\n            <h2>Edit Profile</h2>\n            {!isLoading && user.avatar && formInputs}\n            <button onClick={infoSubmitHandle} className='btn btn-submit'>\n              Update Profile\n            </button>\n          </form>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default EditUserProfile;\n","import React, { useEffect, useState } from 'react';\nimport { GrFormClose } from '@react-icons/all-files/gr/GrFormClose';\nimport './TagsInput.css';\n\nexport const TagsInput = (props) => {\n  const [tags, setTags] = useState([]);\n  const [isValid, setIsValid] = useState(false);\n\n  const addTag = (evt) => {\n    const tag = evt.target.value;\n    if (evt.code === 'Enter' && tag !== '') {\n      setTags((tags) => [...tags, tag]);\n      evt.target.value = '';\n      let isInputValid = isValid;\n      if (tag !== '') {\n        setIsValid(true);\n        isInputValid = true;\n      } else {\n        setIsValid(false);\n        isInputValid = false;\n      }\n      props.onChange('tags', [...tags, tag], isInputValid);\n    }\n  };\n\n  useEffect(() => {\n    setTags(props.tags);\n  }, [props.tags, setTags]);\n\n  //just send the tags array and run onChange in both add and remove?\n\n  const removeTag = (indexToRemove) => {\n    const removedTag = tags[indexToRemove];\n    const updatedTags = tags.filter((tag) => tag !== removedTag);\n    setTags(updatedTags);\n    props.onChange('tags', updatedTags, true);\n  };\n\n  return (\n    <>\n      <h4>{props.label}</h4>\n      <div className='tags__input'>\n        <ul className='input__list'>\n          {tags &&\n            tags.map((tag, index) => (\n              <li className='input__item' key={index}>\n                <span>#{tag}</span>\n                <i className='input__remove'>\n                  <GrFormClose onClick={() => removeTag(index)} />\n                </i>\n              </li>\n            ))}\n        </ul>\n        <input\n          type='text'\n          placeholder='Press enter to add tags'\n          onKeyUp={addTag}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default TagsInput;\n","import React, { useEffect, useRef, useState } from 'react';\nimport SimpleMDE from 'react-simplemde-editor';\nimport 'easymde/dist/easymde.min.css';\n\nexport const BodyInput = (props) => {\n  const [value, setValue] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  const valueRef = useRef();\n  valueRef.current = { value, isValid };\n\n  useEffect(() => {\n    setValue(props.value);\n  }, [props.value]);\n\n  const onChange = (value) => {\n    setValue(value);\n    if (valueRef.current.value !== '') {\n      setIsValid(true);\n    } else {\n      setIsValid(false);\n    }\n    props.onChange('body', value, valueRef.current.isValid);\n  };\n\n  return <SimpleMDE value={value} onChange={onChange} />;\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport './ImageUpload.css';\n\nconst ImageUpload = (props) => {\n  const [file, setFile] = useState();\n  const [previewURL, setPreviewURL] = useState();\n  const [isValid, setIsValid] = useState(false);\n  const filePickerRef = useRef();\n\n  useEffect(() => {\n    setFile(props.file);\n  }, [props.file]);\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    if (typeof file === 'string') {\n      setPreviewURL(`${file}`);\n    } else {\n      const fileReader = new FileReader();\n      fileReader.onload = () => {\n        setPreviewURL(fileReader.result);\n      };\n      fileReader.readAsDataURL(file);\n    }\n  }, [file]);\n  const pickedHandler = (e) => {\n    let pickedFile;\n    let fileIsValid = isValid;\n    if (e.target.files || e.target.files.length === 1) {\n      pickedFile = e.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    //file already being validated here\n    props.onInput(props.label.toLowerCase(), pickedFile, fileIsValid);\n  };\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n  return (\n    <div className='form__image'>\n      <input\n        id={props.id}\n        ref={filePickerRef}\n        style={{ display: 'none' }}\n        type='file'\n        accept='.jpg,.png,.jpeg'\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && 'center'}`}>\n        <div className='image-upload__preview'>\n          {previewURL && <img src={previewURL} alt='preview' />}\n          {!previewURL && <p>Please pick an image</p>}\n        </div>\n        <button\n          type='button'\n          className='btn btn-upload'\n          onClick={pickImageHandler}\n        >\n          Choose image\n        </button>\n      </div>\n      {!isValid && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import React from 'react';\nimport './Input.css';\n\nconst Input = (props) => {\n  const {\n    elementType,\n    label,\n    type,\n    name,\n    id,\n    rows,\n    handleChange,\n    // handleBlur,\n    errorMessage,\n    isValid,\n    value,\n    touched,\n  } = props;\n\n  const element =\n    elementType === 'input' ? (\n      <>\n        <input\n          className='form__input'\n          type={type}\n          name={name}\n          id={id}\n          key={label}\n          onChange={handleChange}\n          // onBlur={handleBlur}\n          value={value}\n        />\n      </>\n    ) : (\n      <textarea\n        label={label}\n        id={id}\n        type={type}\n        name={name}\n        className='form__textarea'\n        rows={rows || 3}\n        onChange={handleChange}\n        // onBlur={handleBlur}\n        value={value}\n      />\n    );\n  return (\n    <div className='form__group'>\n      <label htmlFor={name} className='form__label'>\n        {label}\n      </label>\n      {element}\n      {!touched && errorMessage && !isValid && (\n        <span className='input__error'>{errorMessage}</span>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","/**\n * creates and returns a validation rule object that\n * is used by useForm hook to validate the form inputs\n *\n * @param {string} ruleName - name of the validation rule\n * @param {string} errorMessage - message to display\n * @param {function} validateFunc - validation function\n */\nfunction createValidationRule(ruleName, errorMessage, validateFunc) {\n  return {\n    name: ruleName,\n    message: errorMessage,\n    validate: validateFunc,\n  };\n}\n\nexport function requiredRule(inputName) {\n  return createValidationRule(\n    'required',\n    `${inputName} required`,\n    (inputValue, formObj) => inputValue.length !== 0\n  );\n}\n\nexport function minLengthRule(inputName, minCharacters) {\n  return createValidationRule(\n    'minLength',\n    `${inputName} should contain atleast ${minCharacters} characters`,\n    (inputValue, formObj) => inputValue.length >= minCharacters\n  );\n}\n\nexport function maxLengthRule(inputName, maxCharacters) {\n  return createValidationRule(\n    'minLength',\n    `${inputName} cannot contain more than ${maxCharacters} characters`,\n    (inputValue, formObj) => inputValue.length <= maxCharacters\n  );\n}\n\nexport function passwordMatchRule() {\n  return createValidationRule(\n    'passwordMatch',\n    `passwords do not match`,\n    (inputValue, formObj) => inputValue === formObj.password.value\n  );\n}\n","import React from 'react';\nimport TagsInput from '../components/FormElements/TagsInput/TagsInput';\nimport { BodyInput } from '../components/FormElements/BodyInput/BodyInput';\nimport ImageUpload from '../components/FormElements/ImageUpload/ImageUpload';\nimport Input from '../components/FormElements/Input/Input';\nimport {\n  maxLengthRule,\n  minLengthRule,\n  requiredRule,\n} from './inputValidationRules';\n\nconst createFormFieldConfig = (\n  label,\n  name,\n  type,\n  elementType = 'input',\n  defaultValue = ''\n) => {\n  //return an obj representing a single input\n  return {\n    //render a given input\n    renderInput: (\n      handleChange,\n      value,\n      isValid,\n      error,\n      key,\n      onCustomInputChange\n    ) => {\n      if (label === 'Image' || label === 'Avatar') {\n        return (\n          <ImageUpload\n            label={label}\n            key={label}\n            center\n            onInput={onCustomInputChange}\n            file={value}\n          />\n        );\n      }\n      if (label === 'Body') {\n        return (\n          <BodyInput key='Body' value={value} onChange={onCustomInputChange} />\n        );\n      }\n      if (label === 'Tags') {\n        return (\n          <TagsInput\n            key='Tags'\n            label={label}\n            tags={value}\n            onChange={onCustomInputChange}\n          />\n        );\n      }\n\n      return (\n        <>\n          <Input\n            key={label}\n            name={name}\n            type={type}\n            label={label}\n            elementType={elementType}\n            isValid={isValid}\n            value={value}\n            handleChange={handleChange}\n            // handleBlur={handleBlur}\n            errorMessage={error}\n          />\n        </>\n      );\n    },\n    label,\n    value: defaultValue,\n    valid: false,\n    errorMessage: '',\n    touched: false,\n  };\n};\n\n//object representation of signup form\n//the hook will use this obj to render the form\n//\"createFormFieldConfig\" takes in label, name, type\nexport const signupForm = {\n  name: {\n    ...createFormFieldConfig('Full Name', 'name', 'text'),\n    validationRules: [\n      requiredRule('name'),\n      minLengthRule('name', 3),\n      maxLengthRule('name', 25),\n    ],\n    key: '1',\n  },\n  email: {\n    ...createFormFieldConfig('Email', 'email', 'email'),\n    validationRules: [\n      requiredRule('email'),\n      minLengthRule('email', 10),\n      maxLengthRule('email', 25),\n    ],\n    key: '2',\n  },\n  password: {\n    ...createFormFieldConfig('Password', 'password', 'password'),\n    validationRules: [\n      requiredRule('password'),\n      minLengthRule('password', 6),\n      maxLengthRule('password', 20),\n    ],\n    key: '3',\n  },\n  avatar: {\n    ...createFormFieldConfig('Avatar', 'avatar', 'file'),\n    validationRules: [requiredRule('avatar')],\n    key: '1',\n  },\n};\n\n//create login form out of signup form\nconst createLoginForm = () => {\n  const form = {};\n  for (let [key, value] of Object.entries(signupForm)) {\n    if (key !== 'name' && key !== 'avatar') form[key] = value;\n  }\n  return form;\n};\n\n//object representation of login form\nexport const loginForm = createLoginForm();\n\nexport const newPostForm = {\n  title: {\n    ...createFormFieldConfig('Title', 'title', 'text'),\n    validationRules: [requiredRule('title')],\n  },\n  image: {\n    ...createFormFieldConfig('Image', 'image', 'file'),\n    validationRules: [requiredRule('image')],\n  },\n  imageAlt: {\n    ...createFormFieldConfig('Image Alt', 'imageAlt', 'text'),\n    validationRules: [requiredRule('Image Alt')],\n  },\n  // imageCredit: {\n  //   ...createFormFieldConfig(\"Image Credit\", \"imageCredit\", \"text\"),\n  //   validationRules: [requiredRule(\"Image Credit\")],\n  // },\n\n  body: {\n    ...createFormFieldConfig('Body', 'body', 'text'),\n    validationRules: [requiredRule('Body')],\n  },\n  topic: {\n    ...createFormFieldConfig('Topic', 'topic', 'text'),\n    validationRules: [requiredRule('Topic')],\n  },\n  tags: {\n    ...createFormFieldConfig('Tags', 'tags', 'text'),\n    validationRules: [requiredRule('Tags')],\n  },\n  titleURL: {\n    ...createFormFieldConfig('titleURL', 'titleURL', 'titleURL'),\n    validationRules: [requiredRule('titleURL')],\n  },\n};\n\nexport let editPostForm = {\n  title: {\n    ...createFormFieldConfig('Title', 'title', 'text'),\n    validationRules: [requiredRule('title')],\n  },\n  image: {\n    ...createFormFieldConfig('Image', 'image', 'file'),\n    validationRules: [requiredRule('image')],\n  },\n  imageAlt: {\n    ...createFormFieldConfig('Image Alt', 'imageAlt', 'text'),\n    validationRules: [requiredRule('Image Alt')],\n  },\n  // imageCredit: {\n  //   ...createFormFieldConfig(\"Image Credit\", \"imageCredit\", \"text\"),\n  //   validationRules: [requiredRule(\"Image Credit\")],\n  // },\n  body: {\n    ...createFormFieldConfig('Body', 'body', 'text'),\n    validationRules: [requiredRule('Body')],\n  },\n  topic: {\n    ...createFormFieldConfig('Topic', 'topic', 'text'),\n    validationRules: [requiredRule('Topic')],\n  },\n  tags: {\n    ...createFormFieldConfig('Tags', 'tags', 'text'),\n    validationRules: [requiredRule('Tags')],\n  },\n  titleURL: {\n    ...createFormFieldConfig('titleURL', 'titleURL', 'titleURL'),\n    validationRules: [requiredRule('titleURL')],\n  },\n};\n\nexport let editProfileForm = {\n  name: {\n    ...createFormFieldConfig('Name', 'name', 'text'),\n    validationRules: [requiredRule('name')],\n  },\n  avatar: {\n    ...createFormFieldConfig('Image', 'image', 'file'),\n    validationRules: [requiredRule('image')],\n  },\n  bio: {\n    ...createFormFieldConfig('Bio', 'bio', 'text'),\n    validationRules: [requiredRule('bio')],\n  },\n  links: {\n    ...createFormFieldConfig('Social Links', 'links', 'text'),\n    validationRules: [requiredRule('links')],\n  },\n  location: {\n    ...createFormFieldConfig('Location', 'location', 'text'),\n    validationRules: [requiredRule('location')],\n  },\n  work: {\n    ...createFormFieldConfig('Work', 'work', 'text'),\n    validationRules: [requiredRule('work')],\n  },\n  skills: {\n    ...createFormFieldConfig('Skills', 'skills', 'text'),\n    validationRules: [requiredRule('skills')],\n  },\n};\n\nexport const prefillEditPostForm = (data) => {\n  for (let [key, value] of Object.entries(data)) {\n    if (key in editPostForm) {\n      if (key === 'tags') {\n        let tags = [];\n        data[key].forEach((tag) => {\n          tags.push(tag.name);\n        });\n        editPostForm = {\n          ...editPostForm,\n          [key]: { ...editPostForm[key], value: tags, valid: true },\n        };\n      } else {\n        editPostForm = {\n          ...editPostForm,\n          [key]: { ...editPostForm[key], value, valid: true },\n        };\n      }\n    }\n  }\n};\n\nexport const prefillEditProfileForm = (data) => {\n  for (let [key, value] of Object.entries(data)) {\n    if (key in editProfileForm) {\n      editProfileForm = {\n        ...editProfileForm,\n        [key]: { ...editProfileForm[key], value, valid: true },\n      };\n    }\n  }\n};\n"],"names":["formObj","useState","form","setForm","isInputFieldValid","useCallback","inputField","validationRules","rule","validate","value","errorMessage","message","onInputChange","event","target","name","inputObj","isValidInput","valid","touched","onCustomInputChange","type","InputIsValid","renderFormInputs","Object","values","map","label","renderInput","renderFormValues","keys","forEach","isFormValid","customForm","isValid","arr","i","length","user","setUser","useForm","editProfileForm","history","useHistory","useHttpClient","sendReq","isLoading","error","clearError","userId","useParams","auth","useContext","AuthContext","currentUser","formValues","formInputs","useEffect","fetchUser","process","responseData","prefillEditProfileForm","infoSubmitHandle","evt","preventDefault","formData","appendData","Authorization","token","bio","email","profilePic","setAppUser","push","asOverlay","onClose","className","onSubmit","avatar","onClick","props","tags","setTags","setIsValid","tag","index","GrFormClose","indexToRemove","removedTag","updatedTags","filter","onChange","removeTag","placeholder","onKeyUp","code","isInputValid","BodyInput","setValue","valueRef","useRef","current","file","setFile","previewURL","setPreviewURL","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","id","ref","style","display","accept","e","pickedFile","fileIsValid","files","onInput","toLowerCase","center","src","alt","click","errorText","elementType","rows","handleChange","element","htmlFor","createValidationRule","ruleName","validateFunc","requiredRule","inputName","inputValue","minLengthRule","minCharacters","maxLengthRule","maxCharacters","createFormFieldConfig","defaultValue","key","signupForm","password","loginForm","entries","createLoginForm","newPostForm","title","image","imageAlt","body","topic","titleURL","editPostForm","links","location","work","skills","prefillEditPostForm","data"],"sourceRoot":""}