"use strict";(self.webpackChunkdevto_clone_client=self.webpackChunkdevto_clone_client||[]).push([[112],{112:function(e,n,s){s.r(n),s.d(n,{default:function(){return _}});var t=s(5861),i=s(9439),a=s(7757),r=s.n(a),c=s(2791),o=s(6545),l=s(8241),d=s(4030),u=s(2703),m=s(184),f=function(e){var n=e.type,s=e.notification,t=s.post,i=s.comment,a=(0,u.p6)(s.date),r=s.sender&&s.sender.name;return"like"===n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"notif__meta",children:[(0,m.jsxs)("span",{className:"meta__title",children:[r," liked your post"]}),(0,m.jsx)("span",{className:"meta__time",children:a})]}),(0,m.jsx)("p",{children:t&&t.title})]}):"comment"===n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"notif__meta",children:[(0,m.jsxs)("span",{className:"meta__title",children:[r," commented on your post"]}),(0,m.jsx)("span",{className:"meta__time",children:a})]}),(0,m.jsxs)("p",{children:['"',i&&i.body,'"']})]}):(0,m.jsxs)("div",{className:"notif__meta",children:[(0,m.jsxs)("span",{className:"meta__title",children:[r," followed you"]}),(0,m.jsx)("span",{className:"meta__time",children:a})]})},h=function(e){var n=e.notification;e.type,e.children;return(0,m.jsxs)("div",{className:"notif",children:[(0,m.jsx)(d.Z,{src:n.sender&&n.sender.avatar,link:"/users/".concat(n.sender.id)}),(0,m.jsx)("div",{className:"notif__details",children:(0,m.jsx)(f,{type:n.notificationType,notification:n})})]})},p=s(542),x=s(4132),j=s(441),_=function(e){var n=e.user,s=(e.userFollowStats,(0,c.useContext)(l.V).currentUser),a=(0,c.useState)([]),d=(0,i.Z)(a,2),u=d[0],f=d[1],_=(0,o.x)(),v=_.isLoading,N=_.sendReq,k=_.error,y=_.clearError;(0,c.useEffect)((function(){var e=function(){var e=(0,t.Z)(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("".concat("https://devfrom.herokuapp.com/api","/users/").concat(s.userId,"/notifications"),"GET",null,{Authorization:"Bearer ".concat(s.token)});case 3:n=e.sent,f(n.notifications),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[N,s.userId,s]);var g=(0,p.k6)(),w=(0,p.UO)().userId;return(0,c.useEffect)((function(){s&&s.userId!==w&&g.push("/")}),[g,s,w]),(0,m.jsxs)(m.Fragment,{children:[v&&(0,m.jsx)(x.Z,{asOverlay:!0}),(0,m.jsx)(j.Z,{error:k,onClose:y}),!v&&(0,m.jsx)("div",{className:"container container-notif-page",children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"notif__heading",children:"Notifications"}),(0,m.jsx)("div",{className:"notifications",children:u&&u.length>0?u.map((function(e){return(0,m.jsx)(h,{user:n,notification:e},e.id)})):(0,m.jsx)("p",{children:"No notifications found!"})})]})})]})}}}]);
//# sourceMappingURL=112.f2840778.chunk.js.map